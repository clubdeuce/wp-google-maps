;var gmMaps,geocoder=new google.maps.Geocoder,infoWindow=new google.maps.InfoWindow();function userLocationError(o){var e='';switch(o.code){case o.PERMISSION_DENIED:e='User denied the request for Geolocation.';break;case o.POSITION_UNAVAILABLE:e='Location information is unavailable.';break;case o.TIMEOUT:e='The request to get user location timed out.';break;default:e='An unknown error occurred.';break};gmMaps.userLocation={status:'error',code:o.code,message:e}};function addressFromLocation(o,e){var n=new google.maps.Geocoder,t=new google.maps.LatLng(o,e),a='';n.geocode({'latLng':t},function(o,e){if(e===google.maps.GeocoderStatus.OK){if(o[0]){gmMaps.userLocation.address=o[0].formatted_address}}})};function userLocation(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(o){gmMaps.userLocation={position:o};addressFromLocation(o.coords.latitude,o.coords.longitude)},userLocationError)}};jQuery(document).ready(function(o){if('https'===window.location.protocol){userLocation()}});function addMarkers(o,e){var n=[];jQuery.each(e,function(e,t){t.map=o;var a=new google.maps.Marker(t);n.push(a)});return n};function addInfoWindows(o,e,n){if(n!==undefined){jQuery.each(e,function(e,t){if(n[e].content.trim()){t.addListener('click',function(){infoWindow.setContent(n[e].content);infoWindow.open(o,t)})}})}};function fitBounds(o,e){var t=!1;if(1<=jQuery(e).length){var n=new google.maps.LatLngBounds();jQuery.each(e,function(e,t){n.extend(t.getPosition());o.fitBounds(n)});t=!0};google.maps.event.addListenerOnce(o,'bounds_changed',function(){if(15<o.getZoom()){o.setZoom(15)}});return t};function generate_map(o,e,a,r){var n=new google.maps.Map(document.getElementById(o),e),t=addMarkers(n,a);if(gmMaps.fitBounds){fitBounds(n,t)};addInfoWindows(n,t,r);if(gmMaps.useClusters){var i=new MarkerClusterer(n,t,{imagePath:'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'})};gmMaps[o]={map:n,markers:t,infoWindow:infoWindow,markerClusterer:i}};