;let geocoder=new google.maps.Geocoder;let infoWindow=new google.maps.InfoWindow();var gmMaps={};function userLocationError(e){let errorMessage='';switch(e.code){case e.PERMISSION_DENIED:errorMessage='User denied the request for Geolocation.';break;case e.POSITION_UNAVAILABLE:errorMessage='Location information is unavailable.';break;case e.TIMEOUT:errorMessage='The request to get user location timed out.';break;default:errorMessage='An unknown error occurred.';break};return{status:'error',code:e.code,message:errorMessage}};function addressFromLocation(e,o){let geocoder=new google.maps.Geocoder;let latLng=new google.maps.LatLng(e,o);geocoder.geocode({'latLng':latLng},function(e,o){if(o===google.maps.GeocoderStatus.OK){if(e[0]){gmMaps.userLocation.address=e[0].formatted_address}}})};function userLocation(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(e){gmMaps.userLocation={status:'success',position:e,address:null};addressFromLocation(e.coords.latitude,e.coords.longitude)},function(e){gmMaps.userLocation=userLocationError(e)})}};jQuery(document).ready(function(e){if('https:'===window.location.protocol){userLocation()}});function addMarkers(e,o){var r=[];jQuery.each(o,function(o,n){n.map=e;var a=new google.maps.Marker(n);r.push(a)});return r};function addInfoWindows(e,o,r){if(!jQuery.isEmptyObject(r)){jQuery.each(o,function(o,n){if(r[o].content){if(r[o].content.trim()){n.addListener('click',function(){infoWindow.setContent(r[o].content);infoWindow.open(e,n)})}}})}};function fitBounds(e,o){var n=!1;if(1<=jQuery(o).length){var r=new google.maps.LatLngBounds();jQuery.each(o,function(o,n){r.extend(n.getPosition());e.fitBounds(r)});n=!0};google.maps.event.addListenerOnce(e,'bounds_changed',function(){if(15<e.getZoom()){e.setZoom(15)}});return n};function generate_map(e,o,r,n){let map=new google.maps.Map(document.getElementById(e),o);let markers=addMarkers(map,r);if(gmMaps){if(gmMaps.fitBounds){fitBounds(map,markers)};if(gmMaps.useClusters){var a=new window.MarkerClusterer(map,markers,{imagePath:'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'})}};addInfoWindows(map,markers,n);gmMaps[e]={map:map,markers:markers,infoWindow:infoWindow,markerClusterer:a}};